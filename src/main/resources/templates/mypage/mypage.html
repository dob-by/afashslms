<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::body})}">
<head>
    <meta charset="UTF-8">
    <title>λ§μ΄νμ΄μ§€</title>
    <style>
        .profile-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode .profile-card {
            background-color: #1e1e1e;
            color: #eaeaea;
            border: 1px solid #444;
        }

        .section-title {
            font-weight: bold;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">
<main class="container my-5 flex-grow-1">
    <div class="profile-card">
        <h4>π‘¤ λ‚΄ μ •λ³΄</h4>
        <p><strong>μ΄λ¦„:</strong> <span th:text="${username}">μ΄λ¦„</span></p>
        <p><strong>μ΄λ©”μΌ:</strong> <span th:text="${email}">email@example.com</span></p>
        <p><strong>μ—­ν• :</strong> <span th:text="${userRole}">STUDENT</span></p>
    </div>

    <!-- ν•™μƒ μ „μ©: λ…ΈνΈλ¶ μ •λ³΄ & μλ¦¬ μ”μ²­ λ‚΄μ—­ -->
    <div th:if="${userRole == 'STUDENT' and laptop != null}">
        <h5 class="section-title">π’» λ‚΄ λ…ΈνΈλ¶ μ •λ³΄</h5>
        <div class="card mb-4">
            <div class="card-body">
                <p><strong>λ¨λΈλ…:</strong> <span th:text="${laptop.model}">Dell XPS 13</span></p>
                <p><strong>μΌλ ¨λ²νΈ:</strong> <span th:text="${laptop.serialNumber}">SN-123456</span></p>
                <p><strong>λ€μ—¬μΌμ:</strong> <span th:text="${#temporals.format(laptop.issuedAt, 'yyyy-MM-dd')}">2025-03-01</span></p>
            </div>
        </div>
    </div>

    <div th:if="${userRole == 'STUDENT' and repairs != null}">
        <h5 class="section-title">π›  μλ¦¬ μ”μ²­ λ‚΄μ—­</h5>
        <table class="table table-sm table-hover">
            <thead>
            <tr>
                <th>μ”μ²­μΌ</th>
                <th>μλ¦¬λ‚΄μ©</th>
                <th>μƒνƒ</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="repair : ${repairs}">
                <td th:text="${#temporals.format(repair.requestedAt, 'yyyy-MM-dd')}">2025-04-12</td>
                <td th:text="${repair.reason}">λ°°ν„°λ¦¬ κµμ²΄</td>
                <td th:text="${repair.status}">μ™„λ£</td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- κ΄€λ¦¬μ μ „μ©: κ°„λ‹¨ μ•λ‚΄ -->
    <div th:if="${userRole == 'MID_ADMIN' or userRole == 'TOP_ADMIN'}">
        <h5 class="section-title">π”§ κ΄€λ¦¬μ μ•λ‚΄</h5>
        <p>μ΄ νμ΄μ§€μ—μ„λ” κ΄€λ¦¬μ μ •λ³΄λ§ κ°„λ‹¨ν ν‘μ‹λ©λ‹λ‹¤.<br>
            λ…ΈνΈλ¶/μ‚¬μ©μ κ΄€λ¦¬λ” μƒλ‹¨ λ©”λ‰΄μ—μ„ μ ‘κ·Όν•΄μ£Όμ„Έμ”.</p>
    </div>
</main>
</body>
</html>