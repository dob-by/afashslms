<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/springsecurity6"
      th:replace="~{layout :: layout(~{::body})}">
<head>
    <title>게시글 목록</title>
    <meta charset="UTF-8" />
</head>
<body>

<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>게시글 목록</h2>
        <a href="/posts/new" class="btn btn-primary">새 글 작성</a>
    </div>

    <table class="table table-hover text-center align-middle">
        <thead class="table-light">
        <tr>
            <th>제목</th>
            <th>작성자</th>
            <th>작성일</th>
            <th>조회수</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="post : ${posts}">
            <td class="text-start">
                <a th:href="@{/posts/{id}(id=${post.postId})}" th:text="${post.title}">제목</a>
            </td>
            <td th:text="${post.user != null ? post.user.username : '알 수 없음'}">작성자</td>
            <td th:text="${#temporals.format(post.createdAt, 'yyyy.MM.dd')}">작성일</td>
            <td th:text="${post.viewCount}">조회수</td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>